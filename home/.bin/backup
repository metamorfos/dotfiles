#!/bin/bash

# this speaks for itself
backup_location="/Volumes/Teo500GB/backup/"
# directories to backup. recursive, implied to be in home (~)
directories=(
  Documents
  Music
  Pictures
  Minecraft
  Scripts
  src
  Books
  Dropbox/dotfiles
)

# if --quiet is passed on as an argument, rsync doesnt show the process of the
# backup

if [ "$1" == '--quiet' -o "$1" == '-q' ]; then
    RSYNC_OPTS="-aLPhz --partial --delete --quiet"
elif [ "$1" == '' -o "$1" == '--verbose' -o "$1" == '-v' ]; then
    RSYNC_OPTS="-aLPvhz --progress --partial --delete"
fi
 
# BACKUP COMMENCE
for directory in ${directories[@]}
  do
    if [ "$1" == '' -o "$1" == '--verbose' -o "$1" == '-v' ]; then
      echo 'backing up' $directory
      echo ''
    fi
    rsync $RSYNC_OPTS ~/$directory $backup_location
done
echo 'backup completed'
